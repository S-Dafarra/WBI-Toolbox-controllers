clear all;
clc;

n  = 25; % Number of DOF
k  = 12; % Number of constraints

% I assume to have two tasks with the postural task
% Dimensions of tasks
m  = [5 7];

%Mass matrix and coriolis terms in the dynamics equation
%
%  M(q) dot(v) + h(q,v) - Jc^t f = S tau
 
M = rand(n + 6);
h = rand(n + 6,1);


%Contact jacobian
Jc    = rand(k,n + 6);


%Desired acceleration for each tesk star{n} is the fStar
star     = cell(size(m,1)+1);
J        = cell(size(m,1))+1;
JDotqDot = cell(size(m,1)+1);

star{1}  =  rand(n,1);  %Lowest priority for postural task
for i = 2:size(m,1)-1
    star{i}     = rand(m(i),1);
    J{i}        = rand(m(i),n+6); 
    JDotqDot{i} = rand(m(i),1);
end
star{size(m,1)} = rand(k,1); %
J{size(m,1)}    = Jc; 

% Call to SOT
tau = completeForceControlWithSubTasks(M,h,qDDStar_o,star,JDotqDot,J);

